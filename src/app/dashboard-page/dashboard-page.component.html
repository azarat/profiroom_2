<div class="wrapper" *ngIf="user">
  <header>
    <a [routerLink]="'/' | localize" class="logo">whocan</a>
    <div class="controls">
      <section class="notifications">
        <mat-icon aria-hidden="false" matBadge="1" aria-label="Example home icon" matBadgeColor="warn">notifications
        </mat-icon>
      </section>
      <section class="type-section">
        <div class="switch">
          <span (click)="changeUserType(1)" [ngClass]="{active: user.role_id === 1}">Фрилансер</span>
          <div class="swp-btn" (click)="changeUserType()">
            <span [ngClass]="{left: user.role_id === 1, right: user.role_id === 2 }"></span>
          </div>
          <span (click)="changeUserType(2)" [ngClass]="{active: user.role_id === 2}">Заказчик</span>
        </div>
      </section>
      <section class="exit">
        <button (click)="userExit()">Выйти</button>
      </section>
    </div>
  </header>
  <div class="side-bar">
    <section class="avatar">
      <div class="lines"></div>
      <img [src]="user.avatar" alt="avatar" />
      <p class="name">{{ user.name }} {{ user.surname}}</p>
      <div class="raiting">
        <app-star-raiting [currentRaiting]="user.raiting"></app-star-raiting>
      </div>
    </section>
    <section class="menu">

      <nav>
        <ng-container *ngFor="let el of dashboardMenu">
          <a class="{{el.class}}"
            *ngIf="user.role_id === 1 && el.class !== 'catalog' || user.role_id === 2 && el.class !== 'dashboard' && el.class !== 'services'"
            [routerLink]="el.link | localize" [routerLinkActive]="'active'" (click)="openChat(el.class)"
            [ngClass]="{ 'newMessage': newMessage }"><span>{{ el.title }}</span></a>
        </ng-container>


      </nav>
    </section>
  </div>
  <div class="content-part">
    <router-outlet></router-outlet>
  </div>
</div>
